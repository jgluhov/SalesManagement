(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var cartModule=angular.module("cartModule",["ui.bootstrap","ngSanitize"]);cartModule.controller("viewCartController",["$scope","$log","cartService","salesService",function(e,r,t,o){e.getItems=function(){t.getItems().then(function(r){e.items=r.data.items})},e.getOrders=function(){t.getOrders().success(function(t){e.orders=t.orders,r.info(t)}).error(function(e){r.error(e)})},e.removeItem=function(r,t){console.log(e.items)},e.getItems(),e.getOrders(),e.checkout=function(){o.isLogged().success(function(o){t.checkout().success(function(t){e.items=null,e.orders=t.orders,r.info(t)}).error(function(e){r.error(e)})}).error(function(e){r.error(e)})}}]),cartModule.factory("cartService",["$http",function(e){return{getItems:function(){return e.get("/shop/cart")},checkout:function(){return e.get("/shop/cart/checkout")},getOrders:function(){return e.get("/shop/cart/orders")}}}]);

},{}],2:[function(require,module,exports){
var categoriesModule=angular.module("categoriesModule",["helperModule","productsModule","ui.bootstrap","ngSanitize"]);categoriesModule.constant("config",{responses:{error:"There was a network error. Try again later.",success:{create:"Your category has been created!",update:"Your category has been updated!"}}}),categoriesModule.controller("viewCategoriesController",["$scope","$timeout","$log","$modal","helperService","categoriesService",function(e,t,o,n,r,c){e.getCategories=function(){e.categories=c.http.getCategories().then(function(t){e.categories=t.data.categories})},e.newCategory=function(){var t=n.open({animation:!0,templateUrl:"/admin/categories/new",controller:"newCategoriesController"});t.result.then(function(t){e.categories.push(t)})},e.editCategory=function(t,o){var r=n.open({animation:!0,templateUrl:"/admin/categories/"+t+"/edit",controller:"editCategoriesController"});r.result.then(function(t){e.categories[o]=t})},e.removeCategory=function(t,o){var r=n.open({animation:!0,templateUrl:"/dialogs/confirmDeleteCategory.html",controller:"deleteProductsController"});r.result.then(function(){c.http.removeCategory(t).then(function(){e.categories.splice(o,1)})})},e.getCategories()}]),categoriesModule.controller("showCategoriesController",["$scope","$timeout","$log","$location","config","$modal","helperService","productsService","categoriesService",function(e,t,o,n,r,c,a,i,s){var l=n.absUrl().split("/"),u=l[l.length-1];s.http.getCategory(u).then(function(t){e.category=t.data.category}),e.newProduct=function(){var t=c.open({animation:!0,templateUrl:"/admin/products/new",controller:"newProductsController"});t.result.then(function(t){e.category.products.push(t)})},e.editProduct=function(t,o){a.storage.product_id=t;var n=c.open({animation:!0,templateUrl:"/admin/products/"+t+"/edit",controller:"editProductsController"});n.result.then(function(t){e.category.products[o]=t})},e.removeProduct=function(t,o){var n=c.open({animation:!0,templateUrl:"/dialogs/confirmDeleteProduct.html",controller:"deleteProductsController"});n.result.then(function(){i.removeProduct(t).then(function(){e.category.products.splice(o)})})}}]),categoriesModule.controller("editCategoriesController",["$scope","$timeout","$log","$location","$modalInstance","config","categoriesService",function(e,t,o,n,r,c,a){e.save=function(n,i){return n.$invalid?void(e.submitted=!0):void a.http.updateCategory(i,e.category).success(function(t){r.close(t.category),e.messages=c.responses.success.update,e.submitted=!1,o.info(t)}).error(function(t){e.messages=c.responses.error,o.error(t)})["finally"](function(){t(function(){e.messages=null},3e3)})},e.cancel=function(){r.dismiss()}}]),categoriesModule.controller("newCategoriesController",["$scope","$timeout","$log","config","$modalInstance","categoriesService",function(e,t,o,n,r,c){e.save=function(a){return a.$invalid?void(e.submitted=!0):void c.http.newCategory(e.category).success(function(t){e.category={},e.messages=n.responses.success.create,e.submitted=!1,r.close(t.category),o.info(t)}).error(function(t){e.messages=n.responses.error,o.error(t)})["finally"](function(){t(function(){e.messages=null},3e3)})},e.cancel=function(){r.dismiss()}}]),categoriesModule.controller("deleteCategoriesController",["$scope",function(e){e.ok=function(){$modalInstance.close()},e.cancel=function(){$modalInstance.dismiss()}}]),categoriesModule.factory("categoriesService",["$http",function(e){var t="/admin/categories/";return{http:{getCategory:function(o){return e.get(t+o)},newCategory:function(o){return e.post(t,o)},updateCategory:function(o,n){return e.put(t+o,n)},removeCategory:function(o){return e["delete"](t+o)},getCategories:function(){return e.get(t)}}}}]),categoriesModule.run(["$templateCache",function(e){e.put("/dialogs/confirmDeleteProduct.html",'<div class="modal-header"><div class="modal-title">Delete</div></div><div class="modal-body">Do you really want to delete this product ?</div><div class="modal-footer"><button type="button" ng-click="ok()" class="btn btn-primary">OK</button><button type="button" ng-click="cancel()" class="btn btn-warning">Cancel</button></div>'),e.put("/dialogs/confirmDeleteCategory.html",'<div class="modal-header"><div class="modal-title">Delete</div></div><div class="modal-body">Do you really want to delete this category ?</div><div class="modal-footer"><button type="button" ng-click="ok()" class="btn btn-primary">OK</button><button type="button" ng-click="cancel()" class="btn btn-warning">Cancel</button></div>')}]);

},{}],3:[function(require,module,exports){
var helperModule=angular.module("helperModule",["ui.bootstrap"]);helperModule.factory("helperService",[function(){return{storage:{product_id:null}}}]);

},{}],4:[function(require,module,exports){
var root=require("./root"),helper=require("./helper"),categories=require("./categories"),products=require("./products"),shop=require("./shop"),cart=require("./cart");
},{"./cart":1,"./categories":2,"./helper":3,"./products":5,"./root":6,"./shop":7}],5:[function(require,module,exports){
var productsModule=angular.module("productsModule",["helperModule","categoriesModule","ui.bootstrap"]);productsModule.constant("config",{responses:{error:"There was a network error. Try again later.",success:{create:"Your product has been created!",update:"Your product has been updated!"}}}),productsModule.controller("newProductsController",["$scope","$timeout","$log","$modalInstance","config","categoriesService","productsService",function(o,e,t,r,c,n,s){n.http.getCategories().then(function(e){o.categories=e.data.categories}),o.save=function(n){return n.$invalid?void(o.submitted=!0):void s.newProduct(o.product).success(function(e){o.product={},o.messages=c.responses.success.create,o.submitted=!1,r.close(e.product),t.info(e)}).error(function(e){o.messages=c.responses.error,t.error(e)})["finally"](function(t){e(function(){o.messages=null,console.log(t)},3e3)})},o.cancel=function(){r.dismiss()}}]),productsModule.controller("editProductsController",["$scope","$timeout","$log","$modalInstance","$location","config","helperService","categoriesService","productsService",function(o,e,t,r,c,n,s,u,d){d.getProduct(s.storage.product_id).then(function(e){o.product=e.data.product,o.product.category=e.data.product._category._id}),u.http.getCategories().then(function(e){o.categories=e.data.categories}),o.save=function(c,s){return console.log(o.product),c.$invalid?void(o.submitted=!0):void d.updateProduct(s,o.product).success(function(e){o.product={},o.messages=n.responses.success.update,o.submitted=!1,console.log(e),r.close(e.product),t.info(e)}).error(function(e){o.messages="There was a network error. Try again later.",t.error(e)})["finally"](function(){e(function(){o.messages=null},3e3)})},o.cancel=function(){console.log(o.product),r.dismiss("canceled")}}]),productsModule.controller("showProductsController",["$scope","$timeout","$log","$location","productsService",function(o,e,t,r,c){var n=r.absUrl().split("/"),s=n[n.length-1];c.getProduct(s).then(function(e){o.product=e.data.product})}]),productsModule.controller("deleteProductsController",["$scope","$modalInstance",function(o,e){o.ok=function(){e.close()},o.cancel=function(){e.dismiss()}}]),productsModule.factory("productsService",["$http",function(o){var e="/admin/products/";return{getProduct:function(t){return o.get(e+t)},newProduct:function(e){return o.post("/admin/products",e)},removeProduct:function(e){return o["delete"]("/admin/products/"+e)},updateProduct:function(e,t){return o.put("/admin/products/"+e,t)}}}]);

},{}],6:[function(require,module,exports){
var salesManagement=angular.module("salesManagement",["productsModule","helperModule","categoriesModule","shopModule","cartModule","ngAnimate"]);salesManagement.controller("salesManagementController",["$scope","$modal","salesService","cartService",function(e,n,t,a){e.username=null,e.popover={privacy:{template:"privacy"},terms:{template:"terms"}},e.login=function(){var t=n.open({animation:!0,templateUrl:"/auth/login",controller:"salesAuthController"});t.result.then(function(n){e.username=n.name,e.admin=n.admin})},e.signup=function(){var t=n.open({animation:!0,templateUrl:"/auth/signup",controller:"salesAuthController"});t.result.then(function(n){e.username=n.name,e.admin=n.admin})},t.isLogged().then(function(n){e.username=n.data.user.local.name,e.admin=n.data.user.local.admin}),e.logout=function(){t.logout().then(function(n){e.username=null,e.admin=!1})}}]),salesManagement.controller("salesAuthController",["$scope","$modalInstance","$log","salesService",function(e,n,t,a){e.login=function(){return form.$invalid?void(e.submitted=!0):void a.login(e.user).success(function(a){e.submitted=!1,n.close(a.user),t.info(a)}).error(function(n,a){403==a&&(e.message=n.message),t.error(n)})["finally"](function(){$timeout(function(){e.message=null},3e3)})},e.signup=function(s){return s.$invalid?void(e.submitted=!0):void a.signup(e.user).success(function(a){console.log(a),e.submitted=!1,n.close(a.user),t.info(a)}).error(function(n,a){403==a&&(e.message=n.message),t.error(n)})["finally"](function(){$timeout(function(){e.message=null},3e3)})},e.cancel=function(){n.dismiss()}}]),salesManagement.factory("salesService",["$http",function(e){return{login:function(n){return e.post("/auth/login",n)},logout:function(){return e.get("/auth/logout")},signup:function(n){return e.post("/auth/signup",n)},isLogged:function(){return e.get("/auth/isLogged")}}}]),salesManagement.run(["$templateCache",function(e){e.put("privacy","<div class='panel panel-default'><div class='panel-heading'>Privacy Policy</div><div class='panel-body'><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.</p></div></div>"),e.put("terms","<div class='panel panel-default'><div class='panel-heading'>Terms of Use</div><div class='panel-body'><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar tempor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus sapien nunc eget odio.</p></div></div>")}]);

},{}],7:[function(require,module,exports){
var shopModule=angular.module("shopModule",["ngSanitize"]);shopModule.controller("viewShopController",["$scope","$log","shopService",function(t,o,r){t.cart={},t.cart.number=0,r.getNumber().then(function(o){t.cart.number=o.data.number}),r.getProducts().success(function(r){t.products=r.products,o.info(r)}).error(function(t){o.error(t)}),t.puts=function(o){r.putProduct(o).then(function(o){t.cart.number++})}}]),shopModule.factory("shopService",["$http",function(t){return{getProducts:function(){return t.get("/shop/products")},putProduct:function(o){return t.post("/shop/cart/puts",{id:o})},getNumber:function(){return t.get("/shop/cart/number")}}}]);

},{}]},{},[4]);
